{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '45354600-161e9d8fd3bcf6ec49a0bc2e6';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function fetchImages(query, page = 1, perPage = 12) {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${perPage}`;\n\n  try {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error('Failed to fetch images');\n    }\n    return await response.json();\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n}\n","let lightbox;\n\nexport function renderGallery(images) {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = images\n    .map(\n      image => `\n    <a href=\"${image.largeImageURL}\" class=\"gallery-item\" data-caption=\"${image.tags}\">\n      <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" class=\"g-image\">\n      <div class=\"info\">\n        <p class=\"i-text\"><span class=\"fat-el\">Likes</span> ${image.likes}</p>\n        <p class=\"i-text\"><span class=\"fat-el\">Views</span> ${image.views}</p>\n        <p class=\"i-text\"><span class=\"fat-el\">Comments</span> ${image.comments}</p>\n        <p class=\"i-text\"><span class=\"fat-el\">Downloads</span> ${image.downloads}</p>\n      </div>\n    </a>\n  `\n    )\n    .join('');\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a', {\n      captions: true,\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  } else {\n    lightbox.refresh();\n  }\n}\n\nexport function renderError(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n  });\n}\n","import { fetchImages } from './js/pixabay-api.js';\nimport { renderGallery, renderError } from './js/render-functions.js';\n\nconst searchForm = document.querySelector('#search-form');\nconst galleryContainer = document.querySelector('.gallery');\n\nsearchForm.addEventListener('submit', async event => {\n  event.preventDefault();\n\n  const query = event.target.elements.searchQuery.value.trim();\n\n  if (!query) {\n    renderError('Please enter a search query.');\n    return;\n  }\n\n  galleryContainer.innerHTML = '';\n\n  try {\n    const data = await fetchImages(query);\n\n    if (data.hits.length === 0) {\n      renderError(\n        'Sorry, there are no images matching your search query. Please try again!'\n      );\n    } else {\n      renderGallery(data.hits);\n    }\n  } catch (error) {\n    renderError('Failed to fetch images. Please try again later.');\n  }\n});\n"],"names":["API_KEY","BASE_URL","fetchImages","query","page","perPage","url","response","error","lightbox","renderGallery","images","gallery","image","renderError","message","searchForm","galleryContainer","event","data"],"mappings":"ssBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAOC,EAAO,EAAGC,EAAU,GAAI,CAC/D,MAAMC,EAAM,GAAGL,CAAQ,QAAQD,CAAO,MAAM,mBAC1CG,CACD,CAAA,iEAAiEC,CAAI,aAAaC,CAAO,GAE1F,GAAI,CACF,MAAME,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,wBAAwB,EAE1C,OAAO,MAAMA,EAAS,MACvB,OAAQC,EAAO,CACd,cAAQ,MAAMA,CAAK,EACbA,CACP,CACH,CClBA,IAAIC,EAEG,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAYD,EACjB,IACCE,GAAS;AAAA,eACAA,EAAM,aAAa,wCAAwCA,EAAM,IAAI;AAAA,kBAClEA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,8DAEMA,EAAM,KAAK;AAAA,8DACXA,EAAM,KAAK;AAAA,iEACRA,EAAM,QAAQ;AAAA,kEACbA,EAAM,SAAS;AAAA;AAAA;AAAA,GAI5E,EACA,KAAK,EAAE,EAELJ,EAOHA,EAAS,QAAO,EANhBA,EAAW,IAAI,eAAe,aAAc,CAC1C,SAAU,GACV,aAAc,MACd,aAAc,GACpB,CAAK,CAIL,CAEO,SAASK,EAAYC,EAAS,CACnC,SAAS,MAAM,CACb,MAAO,QACP,QAASA,CACb,CAAG,CACH,CCjCA,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAmB,SAAS,cAAc,UAAU,EAE1DD,EAAW,iBAAiB,SAAU,MAAME,GAAS,CACnDA,EAAM,eAAc,EAEpB,MAAMf,EAAQe,EAAM,OAAO,SAAS,YAAY,MAAM,OAEtD,GAAI,CAACf,EAAO,CACVW,EAAY,8BAA8B,EAC1C,MACD,CAEDG,EAAiB,UAAY,GAE7B,GAAI,CACF,MAAME,EAAO,MAAMjB,EAAYC,CAAK,EAEhCgB,EAAK,KAAK,SAAW,EACvBL,EACE,0EACR,EAEMJ,EAAcS,EAAK,IAAI,CAE1B,MAAe,CACdL,EAAY,iDAAiD,CAC9D,CACH,CAAC"}